<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spam9700.spam.dao.SeatReservationDao">

    <!-- insertReservation 매핑 -->
    <insert id="saveReservation" parameterType="com.spam9700.spam.dto.ReservationDto">
        INSERT INTO seat_reservations (
            customer_id,
            seat_number,
            room_id,
            status,
            start_time,
            end_time
        )
        VALUES (
            #{customer_id},
            #{seat_number},
            #{room_id},
            '1',
            #{start_time},
            #{end_time}
        )
    </insert>

    <select id="getRoomNameByRoomId" resultType="String" parameterType="String">
        SELECT sr2.room_name
        FROM seat_reservations sr
        INNER JOIN study_room sr2 ON sr.room_id = sr2.room_id
        WHERE sr.room_id = #{room_id}
    </select>

</mapper>
